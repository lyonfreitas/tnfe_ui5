/*
 * ! SAPUI5
 * (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.define(['sap/m/CheckBox','sap/m/DatePicker','sap/m/TimePicker','sap/m/HBox','sap/m/Input','sap/m/Text','sap/m/ObjectIdentifier','sap/m/ObjectStatus','sap/m/Image','sap/m/Link','sap/m/VBox','sap/m/FlexItemData','sap/m/library','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/ODataHelper','sap/ui/comp/smartfield/SmartField','sap/ui/comp/odata/ODataType','sap/ui/comp/odata/FiscalMetadata','sap/ui/comp/odata/CalendarMetadata','sap/ui/comp/odata/CriticalityMetadata','sap/ui/comp/util/FormatUtil','sap/ui/comp/util/MultiUnitUtil','sap/ui/core/Control','sap/ui/comp/navpopover/SemanticObjectController','sap/ui/comp/navpopover/NavigationPopoverHandler','./ValueHelpProvider','./ValueListProvider','sap/ui/comp/library'],function(C,D,T,H,I,a,O,b,c,L,V,F,M,S,d,e,f,g,h,j,k,l,m,n,o,N,p,q,r){"use strict";var s;var t=function(P){if(P){this._oParentODataModel=P.model;this._oMetadataAnalyser=P.metadataAnalyser;this._aODataFieldMetadata=P.fieldsMetadata;this._oLineItemAnnotation=P.lineItemAnnotation;this._oSemanticKeyAnnotation=P.semanticKeyAnnotation;this._smartTableId=P.smartTableId;this._bProcessDataFieldDefault=P.processDataFieldDefault;this._isAnalyticalTable=P.isAnalyticalTable;this._isMobileTable=P.isMobileTable;this._oDateFormatSettings=P.dateFormatSettings;this._useUTCDateTime=P.useUTCDateTime;this._bEnableDescriptions=P.enableDescriptions;this._oCurrencyFormatSettings=P.currencyFormatSettings;this._oDefaultDropDownDisplayBehaviour=P.defaultDropDownDisplayBehaviour||"descriptionAndId";this.useSmartField=P.useSmartField==="true";this.useSmartToggle=P.useSmartToggle==="true";this._sEntitySet=P.entitySet;this._oSemanticKeyAdditionalControl=P._semanticKeyAdditionalControl;this._oSemanticObjectController=P.semanticObjectController;this._bPreserveDecimals=P.preserveDecimals;this._oTextInEditModeSource=P.textInEditModeSource;}if(!this._oMetadataAnalyser&&this._oParentODataModel){this._oMetadataAnalyser=new d(this._oParentODataModel);this._intialiseMetadata();}this._mSmartField={};this._oHelper=new e(this._oMetadataAnalyser.oModel);this._aValueListProvider=[];this._aValueHelpProvider=[];this._aLinkHandlers=[];};t.prototype._intialiseMetadata=function(){if(!this._aODataFieldMetadata){this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntity);}};t.prototype.getFieldViewMetadata=function(i,u){var v=this._createFieldMetadata(i);this._createFieldTemplate(v,u);return v;};t.prototype._getTextInEditModeSource=function(v){if(!this._oTextInEditModeSource){return r.smartfield.TextInEditModeSource.None;}return this._oTextInEditModeSource[v.name]||this._oTextInEditModeSource["*"];};t.prototype._createFieldTemplate=function(v,i){if(this.useSmartField){v.template=new f({textInEditModeSource:this._getTextInEditModeSource(v),value:{path:v.name},entitySet:this._sEntitySet,contextEditable:{path:"sm4rtM0d3l>/editable",mode:"OneWay"},controlContext:this._isMobileTable?"responsiveTable":"table",wrapping:this._isMobileTable});if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||j.isCalendarValue(v)||h.isFiscalValue(v)){v.template.setTextAlign("Right");v.template.setWidth("100%");}this._completeSmartField(v);v.template._setPendingEditState(i);}if(this.useSmartToggle){v.template=new s({editable:{path:"sm4rtM0d3l>/editable",mode:"OneWay"},edit:this.useSmartField?v.template:this._createEditableTemplate(v),display:this._createDisplayOnlyTemplate(v)});}else if(!this.useSmartField){v.template=i?this._createEditableTemplate(v):this._createDisplayOnlyTemplate(v);}};t.prototype._completeSmartField=function(v){var i={annotations:{},path:v.name};if(!this._mSmartField.entitySetObject){this._mSmartField.entitySetObject=this._oHelper.oMeta.getODataEntitySet(this._sEntitySet);this._mSmartField.entityType=this._oHelper.oMeta.getODataEntityType(this._mSmartField.entitySetObject.entityType);}i.modelObject=this._oParentODataModel;i.entitySetObject=this._mSmartField.entitySetObject;i.entitySet=this._mSmartField.entitySetObject;i.entityType=this._mSmartField.entityType;this._oHelper.getProperty(i);v.fieldControlProperty=this._oHelper.oAnnotation.getFieldControlPath(i.property.property);if(v.fieldControlProperty&&v.parentPropertyName){v.fieldControlProperty=v.parentPropertyName+"/"+v.fieldControlProperty;}i.annotations.uom=this._oHelper.getUnitOfMeasure2(i);i.annotations.text=this._oHelper.getTextProperty2(i);i.annotations.lineitem=this._oLineItemAnnotation;i.annotations.semantic=d.getSemanticObjectsFromProperty(i.property.property);this._oHelper.getUOMTextAnnotation(i);if(i.property.property["sap:value-list"]||i.property.property["com.sap.vocabularies.Common.v1.ValueList"]){i.annotations.valuelist=this._oHelper.getValueListAnnotationPath(i);if(i.property.property["sap:value-list"]){i.annotations.valuelistType=i.property.property["sap:value-list"];}else{i.annotations.valuelistType=this._oMetadataAnalyser.getValueListSemantics(i.property.property["com.sap.vocabularies.Common.v1.ValueList"]);}}this._oHelper.getUOMValueListAnnotationPath(i);delete i.entitySet;v.template.data("configdata",{"configdata":i});v.template.data("dateFormatSettings",this._oDateFormatSettings);v.template.data("currencyFormatSettings",this._oCurrencyFormatSettings);v.template.data("defaultDropDownDisplayBehaviour",this._oDefaultDropDownDisplayBehaviour);if(i.annotations.uom||g.isNumeric(v.type)||g.isDateOrTime(v.type)||j.isCalendarValue(v)||h.isFiscalValue(v)){var A=v.template.getTextAlign();if(A==="Initial"){A="Right";}if(g.isNumeric(v.type)&&!v.unit&&v.description&&v.displayBehaviour!=="idOnly"){A=undefined;}v.align=A;}t._createModelTypeInstance(v,this._oDateFormatSettings,this._useUTCDateTime,this._bPreserveDecimals);};t.prototype._createEditableTemplate=function(v,B){var i=null,u=t._createModelTypeInstance(v,this._oDateFormatSettings,this._useUTCDateTime,this._bPreserveDecimals);var w=v.type==="Edm.DateTime"&&v.displayFormat==="Date";if(w||v.isCalendarDate){i=new D({value:{path:v.name,type:u}});}else if(v.type==="Edm.Boolean"){i=new C({selected:{path:v.name}});}if(v.semanticObjects&&(!B)){i=this._createSmartLinkFieldTemplate(v,u,function(){return this._createEditableTemplate(v,true);}.bind(this));}if(!i){if(v.type==="Edm.Time"){i=new T({value:{path:v.name,type:u}});}else{i=new I({value:{path:v.name,type:u}});if(v.unit){i.bindProperty("description",{path:v.unit});i.setTextAlign("Right");i.setTextDirection("LTR");i.setFieldWidth("80%");}else if(this._bEnableDescriptions&&v.description){i.bindProperty("description",{path:v.description});}else if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||j.isCalendarValue(v)||h.isFiscalValue(v)){v.align="Right";i.setTextAlign("Right");i.setTextDirection("LTR");}if(v.hasValueListAnnotation){this._associateValueHelpAndSuggest(i,v);}}}return i;};t.prototype._associateValueHelpAndSuggest=function(i,u){i.setShowValueHelp(true);this._aValueHelpProvider.push(new p({fieldName:u.fieldName,control:i,model:this._oParentODataModel,dateFormatSettings:this._oDateFormatSettings,displayFormat:u.displayFormat,displayBehaviour:u.displayBehaviour,loadAnnotation:true,fullyQualifiedFieldName:u.fullName,metadataAnalyser:this._oMetadataAnalyser,title:u.label,preventInitialDataFetchInValueHelpDialog:true,takeOverInputValue:false,type:u.type,maxLength:u.maxLength}));i.setShowSuggestion(true);i.setFilterSuggests(false);this._aValueListProvider.push(new q({fieldName:u.fieldName,control:i,model:this._oParentODataModel,displayFormat:u.displayFormat,dateFormatSettings:this._oDateFormatSettings,displayBehaviour:u.displayBehaviour,loadAnnotation:true,fullyQualifiedFieldName:u.fullName,metadataAnalyser:this._oMetadataAnalyser,aggregation:"suggestionRows",typeAheadEnabled:true}));};t.prototype._createDisplayOnlyTemplate=function(v,B){var i=null,u=null,A,w,x;u=t._createModelTypeInstance(v,this._oDateFormatSettings,this._useUTCDateTime,this._bPreserveDecimals);if(g.isNumeric(v.type)||g.isDateOrTime(v.type)||j.isCalendarValue(v)||h.isFiscalValue(v)){A="Right";if(g.isNumeric(v.type)&&!v.unit&&v.description&&v.displayBehaviour!=="idOnly"){A=undefined;}}if(v.urlInfo){i=this._createLink(v,u,v.urlInfo);}else if(v.criticalityInfo){i=this._createObjectStatusTemplate(v,u,v.criticalityInfo);}if(this._isMobileTable&&!i){if(v.isImageURL){i=new c({src:{path:v.name},width:"3em",height:"3em"});}else{x=t._getSemanticKeyIndex(v,this._oSemanticKeyAnnotation);if(x>-1){i=this._createObjectIdentifierTemplate(v,u,x===0);}}}if(!i){if(v.semanticObjects&&(!B)){i=this._createSmartLinkFieldTemplate(v,u,function(){return this._createDisplayOnlyTemplate(v,true);}.bind(this));}else if(v.unit){i=this._createMeasureFieldTemplate(v,u);}else if(v.isEmailAddress||v.isPhoneNumber){i=this._createEmailOrPhoneLink(v,u);}else{w=this._getDefaultBindingInfo(v,u,true);i=new a({wrapping:this._isMobileTable,textAlign:A,text:w});}}v.align=A;return i;};t._getSemanticKeyIndex=function(v,i){var u=-1,E;if(i&&i.semanticKeyFields){u=i.semanticKeyFields.indexOf(v.name);if(u<0){E=d.resolveEditableFieldFor(v);u=E?i.semanticKeyFields.indexOf(E):-1;}}return u;};t._createModelTypeInstance=function(v,i,u,P){var w,x,y={};var z=v.type==="Edm.DateTime"&&v.displayFormat==="Date";if(z||v.isCalendarDate){w=i;x={displayFormat:"Date"};}else if(v.type==="Edm.DateTime"&&u){w={UTC:true};}else if(v.type==="Edm.Decimal"){x={precision:v.precision,scale:v.scale};w={preserveDecimals:P};}else if(v.type==="Edm.String"){x={isDigitSequence:v.isDigitSequence};}if(v.isCalendarDate){y.isCalendarDate=true;}if(v.isFiscalDate){y.isFiscalDate=true;y.fiscalType=h.getFiscalAnotationType(v);}x=Object.assign({},x,{maxLength:v.maxLength});if(v.type=="Edm.DateTime"){v.modelType=g.getType(v.type,w,x,y);v.modelType.formatValue(new Date(),"string");v.modelType.oFormat.oFormatOptions.UTC=false;return g.getType(v.type,w,x,y);}v.modelType=g.getType(v.type,w,x,y);return v.modelType;};t.prototype.createModelTypeInstance=function(v){return t._createModelTypeInstance(v,this._oDateFormatSettings,this._useUTCDateTime,this._bPreserveDecimals);};t.prototype._createEmailOrPhoneLink=function(v,i){var u=new L({text:this._getDefaultBindingInfo(v,i,true),wrapping:this._isMobileTable,press:function(E){var w=E.getSource().getText();if(v.isEmailAddress){M.URLHelper.triggerEmail(w);}else if(v.isPhoneNumber){M.URLHelper.triggerTel(w);}}});return u;};t.prototype._getDefaultBindingInfo=function(v,i,R){var B={path:v.name,type:i,formatter:l.getWhitespaceReplacer(R)};if(this._bEnableDescriptions&&v.description){B={parts:[{path:v.name,type:i},{path:v.description}],formatter:l.getFormatterFunctionFromDisplayBehaviour(v.displayBehaviour,R)};}return B;};t.prototype._createLink=function(v,i,u){var w=null;v.linkProperties=u.parameters||u.urlPath;if(u.urlPath){w={path:u.urlPath};}else if(u.urlTarget){w=u.urlTarget;}return new L({text:this._getDefaultBindingInfo(v,i,true),wrapping:this._isMobileTable,href:w});};t.prototype._createObjectIdentifierTemplate=function(v,i,u){var w,x,y,z,A,B;var E=this;var G=function(J){if(E._oSemanticObjectController&&E._oSemanticObjectController.getForceLinkRendering()&&E._oSemanticObjectController.getForceLinkRendering()[v.name]){return true;}var K=v.semanticObjects.additionalSemanticObjects.concat(v.semanticObjects.defaultSemanticObject);return o.hasDistinctSemanticObject(K,J);};if(v.semanticObjects){o.getDistinctSemanticObjects().then(function(J){if(G(J)){B=new N({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,semanticObjectController:E._oSemanticObjectController,navigationTargetsObtained:function(K){var w=sap.ui.getCore().byId(K.getSource().getControl());var P=K.getParameters().mainNavigation;if(P){P.setDescription(w.getText());}K.getParameters().show(w.getTitle(),P,undefined,undefined);}});E._aLinkHandlers.push(B);}});}if(v.description){switch(v.displayBehaviour){case"descriptionAndId":v.vertical=true;x=v.description;y=v.name;z=i;break;case"idAndDescription":v.vertical=true;x=v.name;y=v.description;A=i;break;case"idOnly":x=v.name;z=i;break;default:x=v.description;break;}}else{x=v.name;A=i;}w=new O({title:x?{path:x,type:A,formatter:l.getWhitespaceReplacer(true)}:undefined,text:y?{path:y,type:z,formatter:l.getWhitespaceReplacer(true)}:undefined,titleActive:v.semanticObjects?{path:"$sapuicompcontrolprovider_distinctSO>/distinctSemanticObjects",formatter:function(J){return G(J);}}:false,titlePress:function(J){if(B){B.setControl(J.getSource());B.setBindingContext(J.getSource().getBindingContext());B.openPopover(J.getParameter("domRef"));}}});w.attachEvent("ObjectIdentifier.designtime",function(J){if(B){B.setControl(J.getSource());J.getParameters().registerNavigationPopoverHandler(B);}});w.setModel(o.getJSONModel(),"$sapuicompcontrolprovider_distinctSO");if(this._oSemanticKeyAdditionalControl&&u){this._bSemanticKeyAdditionalControlUsed=true;return new V({renderType:"Bare",items:[w,this._oSemanticKeyAdditionalControl]}).addStyleClass("sapUiTinyMarginTopBottom");}return w;};t.prototype._createObjectStatusTemplate=function(v,i,u){var w,x,y,B;y=k.getShowCriticalityIcon(u.criticalityRepresentationType);if(u.path){v.criticality=u.path;w={path:u.path,formatter:k.getCriticalityState};if(u.criticalityRepresentationPath){v.criticalityRepresentation=u.criticalityRepresentationPath;x={parts:[{path:u.path},{path:u.criticalityRepresentationPath}],formatter:function(z,A){return k.getShowCriticalityIcon(A)?k.getCriticalityIcon(z):undefined;}};}else if(y){x={path:u.path,formatter:k.getCriticalityIcon};}}else{w=k.getCriticalityState(u.criticalityType);if(u.criticalityRepresentationPath){v.criticalityRepresentation=u.criticalityRepresentationPath;x={path:u.criticalityRepresentationPath,formatter:function(z){return k.getShowCriticalityIcon(z)?k.getCriticalityIcon(u.criticalityType):undefined;}};}else if(y){x=k.getCriticalityIcon(u.criticalityType);}}if(v.unit){B={parts:[{path:v.name,type:i},{path:v.unit},{mode:"OneTime",path:v.isCurrencyField?"/##@@requestCurrencyCodes":"/##@@requestUnitsOfMeasure",targetType:"any"}],formatter:v.isCurrencyField?l.getInlineAmountFormatter(this._bPreserveDecimals):l.getInlineMeasureUnitFormatter(this._bPreserveDecimals),useRawValues:true};}else{B=this._getDefaultBindingInfo(v,i,true);}return new b({text:B,state:w,icon:x});};t.prototype._createSmartLinkFieldTemplate=function(v,i,u){var B=v.unit?{parts:[{path:v.name,type:i},{path:v.unit}],formatter:v.isCurrencyField?l.getAmountCurrencyFormatter(this._bPreserveDecimals):l.getMeasureUnitFormatter(this._bPreserveDecimals),useRawValues:true}:this._getDefaultBindingInfo(v,i,true);var w=new S({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,text:B,uom:v.unit?{path:v.unit}:undefined,wrapping:this._isMobileTable,semanticObjectController:this._oSemanticObjectController,beforeNavigationCallback:this._oSemanticObjectController?this._oSemanticObjectController.getBeforeNavigationCallback():undefined,navigationTargetsObtained:function(E){var x=this.getBinding("text");if(!x||!Array.isArray(x.getValue())||v.unit){E.getParameters().show();return;}var y=x.getValue();var z=l.getTextsFromDisplayBehaviour(v.displayBehaviour,y[0],y[1]);var A=E.getParameters().mainNavigation;if(A){A.setDescription(z.secondText);}E.getParameters().show(z.firstText,A,undefined,undefined);}});w.setCreateControlCallback(u);return w;};t.prototype._createMeasureFieldTemplate=function(v,i){var u,A,w,x,U,E=false;E=!!(v.isCurrencyField&&this._oCurrencyFormatSettings&&this._oCurrencyFormatSettings.showCurrencySymbol);x=new a({layoutData:this._isMobileTable?undefined:new F({growFactor:1,baseSize:"0%"}),textDirection:"LTR",wrapping:false,textAlign:"End",text:{parts:[{path:v.name,type:i},{path:v.unit},{mode:"OneTime",path:v.isCurrencyField?"/##@@requestCurrencyCodes":"/##@@requestUnitsOfMeasure",targetType:"any"}],formatter:v.isCurrencyField?l.getAmountCurrencyFormatter(this._bPreserveDecimals):l.getMeasureUnitFormatter(this._bPreserveDecimals),useRawValues:true}}).addStyleClass("sapUiCompCurrency").addStyleClass("sapUiCompCurrencyTabNums");U=new a({layoutData:new F({shrinkFactor:0}),textDirection:"LTR",wrapping:false,textAlign:"End",width:"3em",text:{path:v.unit,formatter:E?l.getCurrencySymbolFormatter():undefined}}).addStyleClass("sapUiCompUoMPart").addStyleClass("sapUiCompCurrencyMonoFont");u=new H({renderType:"Bare",justifyContent:"End",wrap:this._isMobileTable?"Wrap":undefined,items:[x,U]});u.addStyleClass("sapUiCompDirectionLTR");if(this._isAnalyticalTable){w=u;w.bindProperty("visible",{path:v.unit,formatter:m.isNotMultiUnit});A=new L({text:sap.ui.getCore().getLibraryResourceBundle("sap.ui.comp").getText("SMARTTABLE_MULTI_LINK_TEXT")||"Show Details",visible:{path:v.unit,formatter:m.isMultiUnit},press:[{value:v.name,unit:v.unit,additionalParent:this.useSmartToggle,smartTableId:this._smartTableId,template:w},m.openMultiUnitPopover]});u=new V({renderType:"Bare",items:[A,w]});}return u;};t.prototype._createFieldMetadata=function(i){var u=Object.assign({},i);u.label=i.fieldLabel||i.name;u.quickInfo=i.quickInfo||u.label;u.displayBehaviour=u.displayBehaviour||this._oDefaultDropDownDisplayBehaviour;u.filterType=this._getFilterType(i);this._updateValueListMetadata(u);this._setAnnotationMetadata(u);if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields&&this._oLineItemAnnotation.fields.indexOf(i.name)>-1){u.urlInfo=this._oLineItemAnnotation.urlInfo&&this._oLineItemAnnotation.urlInfo[i.name];u.criticalityInfo=this._oLineItemAnnotation.criticality&&this._oLineItemAnnotation.criticality[i.name];}else if(this._bProcessDataFieldDefault){this._oMetadataAnalyser.updateDataFieldDefault(u);}return u;};t.prototype._updateValueListMetadata=function(i){i.hasValueListAnnotation=i["sap:value-list"]!==undefined;if(i.hasValueListAnnotation){i.hasFixedValues=i["sap:value-list"]==="fixed-values";}else if(i["com.sap.vocabularies.Common.v1.ValueList"]){i.hasValueListAnnotation=true;i.hasFixedValues=this._oMetadataAnalyser.getValueListSemantics(i["com.sap.vocabularies.Common.v1.ValueList"])==="fixed-values";}};t.prototype._setAnnotationMetadata=function(i){if(i&&i.fullName){i.semanticObjects=this._oMetadataAnalyser.getSemanticObjectsFromAnnotation(i.fullName);}};t.prototype._getFilterType=function(i){return l._getFilterType(i);};t.prototype.destroy=function(){var u=function(A){var i;if(A){i=A.length;while(i--){A[i].destroy();}}};if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(!this._bSemanticKeyAdditionalControlUsed&&this._oSemanticKeyAdditionalControl&&this._oSemanticKeyAdditionalControl.destroy){this._oSemanticKeyAdditionalControl.destroy();}u(this._aValueHelpProvider);this._aValueHelpProvider=null;u(this._aValueListProvider);this._aValueListProvider=null;u(this._aLinkHandlers);this._aLinkHandlers=null;if(this._oHelper){this._oHelper.destroy();}this._oHelper=null;this._mSmartField=null;this._aODataFieldMetadata=null;this._oDateFormatSettings=null;this._oCurrencyFormatSettings=null;this._oDefaultDropDownDisplayBehaviour=null;this._oLineItemAnnotation=null;this._oSemanticKeyAnnotation=null;this._oParentODataModel=null;this.bIsDestroyed=true;};s=n.extend("sap.ui.comp.SmartToggle",{metadata:{library:"sap.ui.comp",properties:{editable:{type:"boolean",defaultValue:false}},aggregations:{edit:{type:"sap.ui.core.Control",multiple:false},display:{type:"sap.ui.core.Control",multiple:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}},renderer:{apiVersion:2,render:function(i,u){i.openStart("span",u).class("sapUiCompSmartToggle").openEnd();i.renderControl(u.getEditable()?u.getEdit():u.getDisplay());i.close("span");}}});s.prototype.getFocusDomRef=function(){var i=this.getEditable()?this.getEdit():this.getDisplay();if(i){return i.getFocusDomRef();}return n.prototype.getFocusDomRef.call(this);};s.prototype.getAccessibilityInfo=function(){var i=this.getEditable()?this.getEdit():this.getDisplay();if(i&&i.getAccessibilityInfo){return i.getAccessibilityInfo();}return null;};s.prototype.addAssociation=function(A,i,u){if(A==="ariaLabelledBy"){var E=this.getEdit(),v=this.getDisplay();E&&E.addAssociation(A,i,u);v&&v.addAssociation(A,i,u);}return n.prototype.addAssociation.apply(this,arguments);};s.prototype.removeAssociation=function(A,v,i){if(A==="ariaLabelledBy"){var E=this.getEdit(),u=this.getDisplay();E&&E.removeAssociation(A,v,i);u&&u.removeAssociation(A,v,i);}return n.prototype.removeAssociation.apply(this,arguments);};s.prototype.removeAllAssociation=function(A,i){if(A==="ariaLabelledBy"){var E=this.getEdit(),u=this.getDisplay();E&&E.removeAllAssociation(A,i);u&&u.removeAllAssociation(A,i);}return n.prototype.removeAllAssociation.apply(this,arguments);};return t;},true);
