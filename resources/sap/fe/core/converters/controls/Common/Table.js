/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2021 SAP SE. All rights reserved
 */
sap.ui.define(["../../ManifestSettings","../../helpers/ID","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/templating/PropertyHelper","../../helpers/Aggregation","sap/fe/core/templating/UIFormatters","./Criticality","sap/fe/core/templating/EntitySetHelper"],function(M,I,A,C,D,B,a,K,t,T,b,S,c,P,d,U,e,E){"use strict";var _={};var g=E.getNonSortablePropertiesRestrictions;var f=e.getMessageTypeFromCriticalityType;var h=U.getTypeConfig;var j=U.getDisplayMode;var k=d.AggregationHelper;var l=P.getTargetValueOnDataPoint;var m=P.isPathExpression;var p=P.getAssociatedCurrencyProperty;var q=P.getAssociatedUnitProperty;var r=P.isProperty;var s=c.IssueType;var u=c.IssueSeverity;var v=c.IssueCategory;var w=S.replaceSpecialChars;var x=b.isPathUpdatable;var y=b.isPathInsertable;var z=b.isPathSearchable;var F=b.isPathDeletable;var G=b.getTargetObjectPath;var H=T.MessageType;var J=K.KeyHelper;var L=a.UI;var N=a.singletonPathVisitor;var O=a.bindingContextPathVisitor;var Q=a.Draft;var R=B.resolveBindingString;var V=B.or;var W=B.not;var X=B.isConstant;var Y=B.isBinding;var Z=B.ifElse;var $=B.formatResult;var a1=B.equal;var b1=B.constant;var c1=B.compileBinding;var d1=B.bindingExpression;var e1=B.annotationExpression;var f1=B.and;var g1=D.isDataFieldTypes;var h1=D.isDataFieldForActionAbstract;var i1=D.isDataFieldAlwaysHidden;var j1=D.getSemanticObjectPath;var k1=D.getDataFieldDataType;var l1=D.collectRelatedPropertiesRecursively;var m1=D.collectRelatedProperties;var n1=C.Placement;var o1=C.insertCustomElements;var p1=A.removeDuplicateActions;var q1=A.isActionNavigable;var r1=A.getActionsFromManifest;var s1=I.TableID;var t1=M.VisualizationType;var u1=M.VariantManagementType;var v1=M.TemplateType;var w1=M.SelectionMode;var x1=M.HorizontalAlign;var y1=M.CreationMode;var z1=M.AvailabilityType;var A1=M.ActionType;function B1(n,i){return E1(n)||D1(n,i)||K1(n,i)||C1();}function C1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function D1(n,i){var o=n==null?null:typeof Symbol!=="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o==null)return;var S2=[];var _n=true;var _d=false;var _s,_e;try{for(o=o.call(n);!(_n=(_s=o.next()).done);_n=true){S2.push(_s.value);if(i&&S2.length===i)break;}}catch(X2){_d=true;_e=X2;}finally{try{if(!_n&&o["return"]!=null)o["return"]();}finally{if(_d)throw _e;}}return S2;}function E1(i){if(Array.isArray(i))return i;}function F1(o,i){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var S2=Object.getOwnPropertySymbols(o);if(i){S2=S2.filter(function(T2){return Object.getOwnPropertyDescriptor(o,T2).enumerable;});}n.push.apply(n,S2);}return n;}function G1(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};if(i%2){F1(Object(o),true).forEach(function(S2){H1(n,S2,o[S2]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(n,Object.getOwnPropertyDescriptors(o));}else{F1(Object(o)).forEach(function(S2){Object.defineProperty(n,S2,Object.getOwnPropertyDescriptor(o,S2));});}}return n;}function H1(o,i,n){if(i in o){Object.defineProperty(o,i,{value:n,enumerable:true,configurable:true,writable:true});}else{o[i]=n;}return o;}function I1(i){return M1(i)||L1(i)||K1(i)||J1();}function J1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function K1(o,i){if(!o)return;if(typeof o==="string")return N1(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N1(o,i);}function L1(i){if(typeof Symbol!=="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i);}function M1(i){if(Array.isArray(i))return N1(i);}function N1(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,S2=new Array(o);i<o;i++){S2[i]=n[i];}return S2;}var O1;(function(O1){O1["Default"]="Default";O1["Annotation"]="Annotation";O1["Slot"]="Slot";})(O1||(O1={}));function P1(i,n,o,S2){var T2=e2(i,n,o);var U2=T2.tableActions;var V2=T2.hiddenTableActions;return o1(U2,r1(o.getManifestControlConfiguration(n).actions,o,U2,S2,true,V2),{isNavigable:"overwrite",enableOnSelect:"overwrite",enableAutoScroll:"overwrite",enabled:"overwrite",defaultValuesExtensionFunction:"overwrite"});}_.getTableActions=P1;function Q1(i,n,o,S2){var T2=x2(i,n,o);var U2=B2(o.getManifestControlConfiguration(n).columns,T2,o,o.getAnnotationEntityType(i),S2);return o1(T2,U2,{width:"overwrite",isNavigable:"overwrite",availability:"overwrite",settings:"overwrite",horizontalAlign:"overwrite",formatOptions:"overwrite"});}_.getTableColumns=Q1;var R1=function(i,n,o){var S2=new k(i,o);function T2(Y2){return n.find(function(Z2){var $2=Z2;return $2.propertyInfos===undefined&&$2.relativePath===Y2;});}if(!S2.isAnalyticsSupported()){return undefined;}var U2=new Set();n.forEach(function(Y2){var Z2=Y2;if(Z2.unit){U2.add(Z2.unit);}});var V2=S2.getCustomAggregateDefinitions();var W2={};V2.forEach(function(Y2){var Z2=S2._entityType.entityProperties.find(function(b3){return b3.name===Y2.qualifier;});if(Z2){var $2,_2;var a3=($2=Y2.annotations)===null||$2===void 0?void 0:(_2=$2.Aggregation)===null||_2===void 0?void 0:_2.ContextDefiningProperties;W2[Z2.name]=a3?a3.map(function(b3){return b3.value;}):[];}});var X2={};n.forEach(function(Y2){var Z2=Y2;if(Z2.propertyInfos===undefined&&Z2.relativePath){var $2=W2[Z2.relativePath];if($2&&!U2.has(Z2.name)&&!Z2.isDataPointFakeTargetProperty){X2[Z2.name]={defaultAggregate:{},relativePath:Z2.relativePath};var _2=[];$2.forEach(function(a3){var Y2=T2(a3);if(Y2){_2.push(Y2.name);}});if(_2.length){X2[Z2.name].defaultAggregate.contextDefiningProperties=_2;}}}});return X2;};_.getAggregateDefinitionsFromEntityType=R1;function S1(i,n,o,S2){if(i.control.type==="AnalyticalTable"){var T2=R1(n,i.columns,o);if(T2){i.enableAnalytics=true;i.aggregates=T2;i.annotation.groupConditions=K2(S2,i.columns);i.annotation.aggregateConditions=L2(S2,i.columns);}i.control.type="GridTable";}}function T1(i,n){var o=i.getManifestWrapper();if(n&&o.getNavigationConfiguration(n)){var S2=o.getNavigationConfiguration(n);if(Object.keys(S2).length>0){return n;}}var T2=i.getDataModelObjectPath();var U2=i.getContextPath();var V2=o.getNavigationConfiguration(U2);if(V2&&Object.keys(V2).length>0){return U2;}return T2.targetEntitySet?T2.targetEntitySet.name:T2.startingEntitySet.name;}function U1(i,n){function o(S2){return n.find(function(T2){var U2=T2;return U2.propertyInfos===undefined&&U2.relativePath===S2;});}n.forEach(function(S2){var T2=S2;if(T2.propertyInfos===undefined&&T2.relativePath){var U2=i.entityProperties.find(function(b3){return b3.name===T2.relativePath;});if(U2){var V2,W2,X2;var Y2=((V2=p(U2))===null||V2===void 0?void 0:V2.name)||((W2=q(U2))===null||W2===void 0?void 0:W2.name);if(Y2){var Z2=o(Y2);T2.unit=Z2===null||Z2===void 0?void 0:Z2.name;}var $2=j(U2),_2=(X2=U2.annotations.Common)===null||X2===void 0?void 0:X2.Text;if(m(_2)&&$2!=="Value"){var a3=o(_2.path);if(a3&&a3.name!==T2.name){T2.textArrangement={textProperty:a3.name,mode:$2};}}}}});}_.updateLinkedProperties=U1;function V1(i,n,o,S2,T2,U2){var V2=R2(i,n,o,T2);var W2=P2(n),X2=W2.navigationPropertyPath;var Y2=T1(o,X2);var Z2=o.getManifestWrapper().getNavigationConfiguration(Y2);var $2=Q1(i,n,o,Z2);var _2=X1(i,o);var a3={type:t1.Table,annotation:M2(i,n,o,V2,$2,S2,U2),control:V2,actions:p1(P1(i,n,o,Z2)),columns:$2,enableDataStateFilter:o.getTemplateType()==="ObjectPage",operationAvailableMap:JSON.stringify(_2),operationAvailableProperties:Y1(_2,o)};U1(o.getAnnotationEntityType(i),$2);S1(a3,o.getAnnotationEntityType(i),o,S2);return a3;}_.createTableVisualization=V1;function W1(i){var n=R2(undefined,"",i,false);var o=i2({},i.getEntityType(),[],[],i,n.type);var S2=X1(undefined,i);var T2={type:t1.Table,annotation:M2(undefined,"",i,n,o),control:n,actions:[],columns:o,enableDataStateFilter:i.getTemplateType()==="ObjectPage",operationAvailableMap:JSON.stringify(S2),operationAvailableProperties:Y1(S2,i)};U1(i.getEntityType(),o);S1(T2,i.getEntityType(),i);return T2;}_.createDefaultTableVisualization=W1;function X1(i,n){var o={};var S2=function(T2,U2){if(T2){o[T2]=U2;}};if(i){i.forEach(function(T2){if(T2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var U2=T2.Action;if((U2===null||U2===void 0?void 0:U2.indexOf("/"))<0&&!T2.Determining){var V2,W2,X2;var Y2=T2.ActionTarget;if((Y2===null||Y2===void 0?void 0:(V2=Y2.annotations)===null||V2===void 0?void 0:(W2=V2.Core)===null||W2===void 0?void 0:W2.OperationAvailable)===null){S2(U2,null);}else if(Y2!==null&&Y2!==void 0&&(X2=Y2.parameters)!==null&&X2!==void 0&&X2.length){var Z2,$2,_2,a3;var b3=Y2.parameters[0].fullyQualifiedName,c3=e1(Y2===null||Y2===void 0?void 0:(Z2=Y2.annotations)===null||Z2===void 0?void 0:($2=Z2.Core)===null||$2===void 0?void 0:$2.OperationAvailable,[],undefined,function(d3){return O(d3,n,b3);});if(c3!==null&&c3!==void 0&&c3.path){S2(U2,c3.path);}else if((Y2===null||Y2===void 0?void 0:(_2=Y2.annotations)===null||_2===void 0?void 0:(a3=_2.Core)===null||a3===void 0?void 0:a3.OperationAvailable)!==undefined){S2(U2,c3);}}}}});}return o;}function Y1(o,i){var n=new Set();for(var S2 in o){var T2=o[S2];if(T2===null){n.add(S2);}else if(typeof T2==="string"){n.add(T2);}}if(n.size){var U2,V2,W2,X2,Y2;var Z2=i.getEntityType();var $2=(U2=Z2.annotations)===null||U2===void 0?void 0:(V2=U2.UI)===null||V2===void 0?void 0:(W2=V2.HeaderInfo)===null||W2===void 0?void 0:(X2=W2.Title)===null||X2===void 0?void 0:(Y2=X2.Value)===null||Y2===void 0?void 0:Y2.path;if($2){n.add($2);}}return Array.from(n).join(",");}function Z1(i,n,o,S2){var T2=[];i.forEach(function(U2){var V2,W2;if(U2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&U2!==null&&U2!==void 0&&(V2=U2.ActionTarget)!==null&&V2!==void 0&&V2.isBound&&n===(U2===null||U2===void 0?void 0:U2.ActionTarget.sourceEntityType)||U2.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&U2.RequiresContext&&(U2===null||U2===void 0?void 0:(W2=U2.Inline)===null||W2===void 0?void 0:W2.valueOf())!==true){var X2,Y2,Z2;if(typeof((X2=U2.annotations)===null||X2===void 0?void 0:(Y2=X2.UI)===null||Y2===void 0?void 0:(Z2=Y2.Hidden)===null||Z2===void 0?void 0:Z2.valueOf())==="object"){T2.push(a1($1(U2,o,S2),false));}}});return T2;}function $1(i,n,o){var S2;var T2;if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var U2,V2;T2=i===null||i===void 0?void 0:(U2=i.annotations)===null||U2===void 0?void 0:(V2=U2.UI)===null||V2===void 0?void 0:V2.Hidden;}else{T2=i===null||i===void 0?void 0:i.visible;}var W2;if((S2=T2)!==null&&S2!==void 0&&S2.path){W2=T2.path;}else{W2=T2;}if(W2){if(i!==null&&i!==void 0&&i.visible){W2=W2.substring(1,W2.length-1);}if(W2.indexOf("/")>0){var X2;var Y2=W2.split("/");var Z2=Y2[0];if((n===null||n===void 0?void 0:(X2=n.targetObject)===null||X2===void 0?void 0:X2._type)==="NavigationProperty"&&n.targetObject.partner===Z2){return d1(Y2.slice(1).join("/"));}else{return b1(true);}}else if(o){return d1(W2);}else{return b1(true);}}return b1(true);}function _1(i,n){return i.some(function(o){var S2,T2,U2,V2,W2,X2,Y2;if((o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(o===null||o===void 0?void 0:(S2=o.Inline)===null||S2===void 0?void 0:S2.valueOf())!==true&&(((T2=o.annotations)===null||T2===void 0?void 0:(U2=T2.UI)===null||U2===void 0?void 0:(V2=U2.Hidden)===null||V2===void 0?void 0:V2.valueOf())===false||((W2=o.annotations)===null||W2===void 0?void 0:(X2=W2.UI)===null||X2===void 0?void 0:(Y2=X2.Hidden)===null||Y2===void 0?void 0:Y2.valueOf())===undefined)){if(o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var Z2;return(o===null||o===void 0?void 0:(Z2=o.ActionTarget)===null||Z2===void 0?void 0:Z2.isBound)&&n===(o===null||o===void 0?void 0:o.ActionTarget.sourceEntityType);}else if(o.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return o.RequiresContext;}}return false;});}function a2(i){return Object.keys(i).some(function(n){var o;var S2=i[n];if(S2.requiresSelection&&((o=S2.visible)===null||o===void 0?void 0:o.toString())==="true"){return true;}return false;});}function b2(i){var n=[];if(i){Object.keys(i).forEach(function(o){var S2=i[o];if(S2.requiresSelection===true&&S2.visible!==undefined){if(typeof S2.visible==="string"){var T2;n.push(R(S2===null||S2===void 0?void 0:(T2=S2.visible)===null||T2===void 0?void 0:T2.valueOf()));}}});}return n;}function c2(i){var n=F(i.getDataModelObjectPath());var o=x(i.getDataModelObjectPath());return{isDeletable:!(X(n)&&n.value===false),isUpdatable:!(X(o)&&o.value===false)};}_.getCapabilityRestriction=c2;function d2(i,n,o,S2,T2,U2){var V2;if(!i){return w1.None;}var W2=o.getManifestControlConfiguration(n);var X2=(V2=W2.tableSettings)===null||V2===void 0?void 0:V2.selectionMode;var Y2=[],Z2=[];var $2=r1(o.getManifestControlConfiguration(n).actions,o,[],undefined,false);var _2,a3;if(o.getTemplateType()===v1.ObjectPage){_2=F(o.getDataModelObjectPath(),undefined);a3=_2?c1(_2,true):_2;}if(X2&&X2===w1.None&&U2){return c1(Z(U2,b1("Multi"),b1("None")));}if(!X2||X2===w1.Auto){X2=w1.Multi;}if(_1(i,o.getEntityType())||a2($2)){return X2;}Y2=Z1(i,o.getEntityType(),o.getDataModelObjectPath(),S2);Z2=b2($2);if(Y2.length===0&&Z2.length===0&&U2){if(!S2){if(T2.isDeletable||a3!=="false"){return c1(Z(f1(a1(d1("/editMode","ui"),"Editable"),U2),b1(X2),b1(w1.None)));}else{return w1.None;}}else if(T2.isDeletable&&U2){return c1(Z(U2,b1(X2),b1("None")));}else{return w1.None;}}else if(!S2){if(T2.isDeletable||a3!=="false"){return c1(Z(a1(d1("/editMode","ui"),"Editable"),b1(X2),Z(V.apply(void 0,I1(Y2.concat(Z2))),b1(X2),b1(w1.None))));}else{return c1(Z(V.apply(void 0,I1(Y2.concat(Z2))),b1(X2),b1(w1.None)));}}else if(T2.isDeletable){return w1.Multi;}else{return c1(Z(V.apply(void 0,I1(Y2.concat(Z2))),b1(X2),b1(w1.None)));}}_.getSelectionMode=d2;function e2(i,n,o){var S2=[];var T2=[];if(i){i.forEach(function(U2){var V2,W2,X2,Y2,Z2,$2,_2,a3,b3,c3;var d3;if(h1(U2)&&!(((V2=U2.annotations)===null||V2===void 0?void 0:(W2=V2.UI)===null||W2===void 0?void 0:(X2=W2.Hidden)===null||X2===void 0?void 0:X2.valueOf())===true)&&!U2.Inline&&!U2.Determining){var e3=J.generateKeyFromDataField(U2);switch(U2.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":d3={type:A1.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(U2.fullyQualifiedName),key:e3,visible:c1(W(a1(e1((Y2=U2.annotations)===null||Y2===void 0?void 0:(Z2=Y2.UI)===null||Z2===void 0?void 0:Z2.Hidden,[],undefined,o.getRelativeModelPathFunction()),true))),isNavigable:true};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":d3={type:A1.DataFieldForIntentBasedNavigation,annotationPath:o.getEntitySetBasedAnnotationPath(U2.fullyQualifiedName),key:e3,visible:c1(W(a1(e1(($2=U2.annotations)===null||$2===void 0?void 0:(_2=$2.UI)===null||_2===void 0?void 0:_2.Hidden,[],undefined,o.getRelativeModelPathFunction()),true)))};break;default:break;}}else if(((a3=U2.annotations)===null||a3===void 0?void 0:(b3=a3.UI)===null||b3===void 0?void 0:(c3=b3.Hidden)===null||c3===void 0?void 0:c3.valueOf())===true){T2.push({type:A1.Default,key:J.generateKeyFromDataField(U2)});}if(d3){S2.push(d3);}});}return{tableActions:S2,hiddenTableActions:T2};}function f2(i,n,o){var S2=H.None;if(i){if(typeof i==="object"){S2=e1(i);}else{S2=f(i);}}return Z(n&&Q.IsNewObject,H.Information,$([S2,d1("filteredMessages","internal")],t.rowHighlighting,o));}function g2(i,n,o,S2){var T2;var U2=(S2===null||S2===void 0?void 0:S2.create)||(S2===null||S2===void 0?void 0:S2.detail);if(U2!==null&&U2!==void 0&&U2.outbound&&U2.outboundDetail&&S2!==null&&S2!==void 0&&S2.create){return{mode:"External",outbound:U2.outbound,outboundDetail:U2.outboundDetail,navigationSettings:S2};}var V2;if(i){var W2,X2,Y2,Z2,$2;var _2=(W2=o.getEntitySet())===null||W2===void 0?void 0:W2.annotations;V2=(_2===null||_2===void 0?void 0:(X2=_2.Common)===null||X2===void 0?void 0:(Y2=X2.DraftRoot)===null||Y2===void 0?void 0:Y2.NewAction)||(_2===null||_2===void 0?void 0:(Z2=_2.Session)===null||Z2===void 0?void 0:($2=Z2.StickySessionSupported)===null||$2===void 0?void 0:$2.NewAction);if(n.creationMode===y1.CreationRow&&V2){throw Error("Creation mode '".concat(y1.CreationRow,"' can not be used with a custom 'new' action (").concat(V2,")"));}if(U2!==null&&U2!==void 0&&U2.route){var a3;return{mode:n.creationMode,append:n.createAtEnd,newAction:(a3=V2)===null||a3===void 0?void 0:a3.toString(),navigateToTarget:n.creationMode===y1.NewPage?U2.route:undefined};}}if(n.creationMode===y1.NewPage){n.creationMode=y1.Inline;}return{mode:n.creationMode,append:n.createAtEnd,newAction:(T2=V2)===null||T2===void 0?void 0:T2.toString()};}var h2=function(i,n,o,S2,T2){var U2,V2;var W2=H.None;var X2=o.getEntityType();if(S2&&i){var Y2,Z2;V2=((Y2=S2.display)===null||Y2===void 0?void 0:Y2.target)||((Z2=S2.detail)===null||Z2===void 0?void 0:Z2.outbound);if(V2){U2=".handlers.onChevronPressNavigateOutBound( $controller ,'"+V2+"', ${$parameters>bindingContext})";}else if(X2){var $2;var _2=o.getEntitySet();V2=($2=S2.detail)===null||$2===void 0?void 0:$2.route;if(V2){var a3,b3,c3,d3,e3,f3,g3,h3,i3,j3;W2=f2((a3=i.annotations)===null||a3===void 0?void 0:(b3=a3.UI)===null||b3===void 0?void 0:b3.Criticality,!!(_2!==null&&_2!==void 0&&(c3=_2.annotations)!==null&&c3!==void 0&&(d3=c3.Common)!==null&&d3!==void 0&&d3.DraftRoot)||!!(_2!==null&&_2!==void 0&&(e3=_2.annotations)!==null&&e3!==void 0&&(f3=e3.Common)!==null&&f3!==void 0&&f3.DraftNode),X2);U2="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+T2+"', editable : "+(_2!==null&&_2!==void 0&&(g3=_2.annotations)!==null&&g3!==void 0&&(h3=g3.Common)!==null&&h3!==void 0&&h3.DraftRoot||_2!==null&&_2!==void 0&&(i3=_2.annotations)!==null&&i3!==void 0&&(j3=i3.Common)!==null&&j3!==void 0&&j3.DraftNode?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+"})";}else{var k3,l3;W2=f2((k3=i.annotations)===null||k3===void 0?void 0:(l3=k3.UI)===null||l3===void 0?void 0:l3.Criticality,false,X2);}}}var m3=$([d1("/deepestPath","internal")],t.navigatedRow,X2);return{press:U2,action:U2?"Navigation":undefined,rowHighlighting:c1(W2),rowNavigated:c1(m3)};};var i2=function(i,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var S2=arguments.length>3?arguments[3]:undefined;var T2=arguments.length>4?arguments[4]:undefined;var U2=arguments.length>5?arguments[5]:undefined;var V2=[];var W2=new k(n,T2);n.entityProperties.forEach(function(X2){var Y2=o.some(function(d3){return d3.name===X2.name;});if(!X2.targetType&&!Y2){var Z2=m1(X2.name,X2,T2,true,U2);var $2=Object.keys(Z2.properties);var _2=Object.keys(Z2.additionalProperties);var a3=j2(X2,T2.getEntitySetBasedAnnotationPath(X2.fullyQualifiedName),X2.name,true,true,S2,W2,T2);var b3=T2.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[T2.getEntityType()])[0];var c3=w2(a3.name,b3);if(Object.keys(c3).length>0){a3.formatOptions=G1({},c3);}if($2.length>0){a3.propertyInfos=$2;a3.exportSettings=G1(G1({},a3.exportSettings),{},{template:Z2.exportSettingsTemplate,wrap:Z2.exportSettingsWrapping});$2.forEach(function(d3){i[d3]=Z2.properties[d3];});}if(_2.length>0){a3.additionalPropertyInfos=_2;_2.forEach(function(d3){i[d3]=Z2.additionalProperties[d3];});}V2.push(a3);}});return V2;};_.getColumnsFromEntityType=i2;var j2=function(i,n,o,S2,T2,U2,V2,W2){var X2,Y2,Z2,$2,_2,a3,b3,c3,d3;var e3=S2?o:"Property::"+o;var f3=(S2?"DataField::":"Property::")+w(o);var g3=j1(W2,i);var h3=((X2=i.annotations)===null||X2===void 0?void 0:(Y2=X2.UI)===null||Y2===void 0?void 0:(Z2=Y2.Hidden)===null||Z2===void 0?void 0:Z2.valueOf())===true;var i3=i.name?s2(i.name,true,false):undefined;var j3=i3!=i.name;var k3=e3.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1;var l3=N2(i.type);var m3=i.type==="Edm.Date"?"YYYY-MM-DD":undefined;var n3=k1(i);var o3=!k3?h(i,n3):undefined;var p3=!k3?{className:i.type||n3,oFormatOptions:o3.formatOptions,oConstraints:o3.constraints}:undefined;var q3=k3?{template:l(i)}:{type:l3,inputFormat:m3,scale:i.scale,delimiter:i.type==="Edm.Int64"?true:false,trueValue:i.type==="Edm.Boolean"?"Yes":undefined,falseValue:i.type==="Edm.Boolean"?"No":undefined};return{key:f3,isGroupable:!k3&&!h3?V2.isPropertyGroupable(i):false,type:O1.Annotation,label:n2(i,j3),groupLabel:j3?n2(i):null,group:j3?i3:null,annotationPath:n,semanticObjectPath:g3,availability:!T2||h3||k3?z1.Hidden:z1.Adaptation,name:e3,relativePath:k3?(($2=i.annotations)===null||$2===void 0?void 0:(_2=$2.UI)===null||_2===void 0?void 0:(a3=_2.DataFieldDefault)===null||a3===void 0?void 0:(b3=a3.Target)===null||b3===void 0?void 0:(c3=b3.$target)===null||c3===void 0?void 0:(d3=c3.Value)===null||d3===void 0?void 0:d3.path)||i.Value.path:o,sortable:!h3&&U2.indexOf(o)===-1&&!k3,isKey:i.isKey,isDataPointFakeTargetProperty:k3,exportSettings:q3,caseSensitive:u2(W2),typeConfig:p3,visualSettings:k3?{widthCalculation:null}:undefined};};var k2=function(i){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!i.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":return false;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};var l2=function(i,n,o){var S2,T2,U2,V2,W2,X2;var Y2=i.targetObject;var Z2;if(Y2){switch(Y2.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":Z2=Y2.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((Y2===null||Y2===void 0?void 0:(S2=Y2.Target)===null||S2===void 0?void 0:(T2=S2.$target)===null||T2===void 0?void 0:T2.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var $2;Z2=($2=Y2.Target.$target)===null||$2===void 0?void 0:$2.Value.$target;}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:Z2=undefined;}}var _2=n!==null&&n!==void 0&&n.isAnalytics?L.IsExpanded:b1(false);var a3=n!==null&&n!==void 0&&n.isAnalytics?a1(L.NodeLevel,0):b1(false);var b3=f1.apply(void 0,[W(a1(e1(Y2===null||Y2===void 0?void 0:(U2=Y2.annotations)===null||U2===void 0?void 0:(V2=U2.UI)===null||V2===void 0?void 0:V2.Hidden),true)),Z(!!Z2,Z2&&W(a1(e1((W2=Z2.annotations)===null||W2===void 0?void 0:(X2=W2.UI)===null||X2===void 0?void 0:X2.Hidden),true)),true),V(W(_2),a3)]);return o?b3:c1(b3);};_._getVisibleExpression=l2;var m2=function(i,n){var o,S2;var T2=[];if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((o=i.Target)===null||o===void 0?void 0:(S2=o.$target)===null||S2===void 0?void 0:S2.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var U2;(U2=i.Target.$target.Data)===null||U2===void 0?void 0:U2.forEach(function(V2){T2.push(l2({targetObject:V2},n,true));});return c1(Z(V.apply(void 0,I1(T2)),b1(true),b1(false)));}};var n2=function(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!i){return undefined;}if(r(i)){var o,S2,T2,U2,V2;var W2=(o=i.annotations)===null||o===void 0?void 0:(S2=o.UI)===null||S2===void 0?void 0:S2.DataFieldDefault;if(W2&&!W2.qualifier&&(T2=W2.Label)!==null&&T2!==void 0&&T2.valueOf()){var X2;return c1(e1((X2=W2.Label)===null||X2===void 0?void 0:X2.valueOf()));}return c1(e1(((U2=i.annotations.Common)===null||U2===void 0?void 0:(V2=U2.Label)===null||V2===void 0?void 0:V2.valueOf())||i.name));}else if(g1(i)){var Y2,Z2,$2,_2,a3,b3,c3,d3;if(!!n&&i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var e3;return c1(e1((e3=i.Label)===null||e3===void 0?void 0:e3.valueOf()));}return c1(e1(((Y2=i.Label)===null||Y2===void 0?void 0:Y2.valueOf())||((Z2=i.Value)===null||Z2===void 0?void 0:($2=Z2.$target)===null||$2===void 0?void 0:(_2=$2.annotations)===null||_2===void 0?void 0:(a3=_2.Common)===null||a3===void 0?void 0:(b3=a3.Label)===null||b3===void 0?void 0:b3.valueOf())||((c3=i.Value)===null||c3===void 0?void 0:(d3=c3.$target)===null||d3===void 0?void 0:d3.name)));}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var f3,g3,h3,i3,j3,k3,l3,m3;return c1(e1(((f3=i.Label)===null||f3===void 0?void 0:f3.valueOf())||((g3=i.Target)===null||g3===void 0?void 0:(h3=g3.$target)===null||h3===void 0?void 0:(i3=h3.Value)===null||i3===void 0?void 0:(j3=i3.$target)===null||j3===void 0?void 0:(k3=j3.annotations)===null||k3===void 0?void 0:(l3=k3.Common)===null||l3===void 0?void 0:(m3=l3.Label)===null||m3===void 0?void 0:m3.valueOf())));}else{var n3;return c1(e1((n3=i.Label)===null||n3===void 0?void 0:n3.valueOf()));}};var o2=function(i,n,o,S2,T2){var U2=[];var V2={};var W2=new k(T2,S2);Object.keys(i).forEach(function(X2){var Y2=i[X2],Z2=S2.getAbsoluteAnnotationPath(X2),$2=n.find(function(a3){return a3.name===X2;});if($2===undefined){U2.push(j2(Y2,Z2,X2,true,false,o,W2,S2));}else if($2.annotationPath!==Z2||$2.propertyInfos&&$2.propertyInfos.indexOf(X2)!==-1){var _2="Property::"+X2;if(!n.some(function(a3){return a3.name===_2;})){U2.push(j2(Y2,Z2,X2,false,false,o,W2,S2));V2[X2]=_2;}}});n.forEach(function(X2){var Y2,Z2;X2.propertyInfos=(Y2=X2.propertyInfos)===null||Y2===void 0?void 0:Y2.map(function($2){var _2;return(_2=V2[$2])!==null&&_2!==void 0?_2:$2;});X2.additionalPropertyInfos=(Z2=X2.additionalPropertyInfos)===null||Z2===void 0?void 0:Z2.map(function($2){var _2;return(_2=V2[$2])!==null&&_2!==void 0?_2:$2;});});return U2;};var p2=function(i){var n,o,S2;if(g1(i)){var T2;return(T2=i.Value)===null||T2===void 0?void 0:T2.path;}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(n=i.Target)!==null&&n!==void 0&&(o=n.$target)!==null&&o!==void 0&&(S2=o.Value)!==null&&S2!==void 0&&S2.path){var U2,V2;return(U2=i.Target)===null||U2===void 0?void 0:(V2=U2.$target)===null||V2===void 0?void 0:V2.Value.path;}else{return J.generateKeyFromDataField(i);}};var q2=function(i,n,o){var S2;var T2=(S2=o.getManifestControlConfiguration(n))===null||S2===void 0?void 0:S2.columns;var U2=T2&&Object.keys(T2);return U2&&!!U2.find(function(V2){return V2===i&&T2[V2].showDataFieldsLabel;});};var r2=function(i){var n,o;var S2="";switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":S2=i===null||i===void 0?void 0:(n=i.Value)===null||n===void 0?void 0:n.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":S2=i===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:o.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":S2=J.generateKeyFromDataField(i);break;}return S2;};var s2=function(i,n,o){var S2=n?i.lastIndexOf("/"):i.indexOf("/");if(S2===-1){return i;}return o?i.substring(S2+1,i.length):i.substring(0,S2);};var t2=function(i,n,o){var S2=false;if(o.indexOf(n)===-1){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":S2=true;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":S2=false;break;}}return S2;};var u2=function(i){var n,o,S2,T2,U2;var V2=((n=i.getEntitySet())===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(S2=o.Capabilities)===null||S2===void 0?void 0:S2.FilterFunctions)||((T2=i.getEntityContainer().annotations)===null||T2===void 0?void 0:(U2=T2.Capabilities)===null||U2===void 0?void 0:U2.FilterFunctions);return Array.isArray(V2)?V2.indexOf("tolower")===-1:true;};_.isFilteringCaseSensitive=u2;function v2(){return{textLinesEdit:4};}function w2(n,o){var S2=false;var T2=[];if(!o){return{};}for(var i=0;i<o.length;i++){T2.push(o[i].value);if(o[i].value===n){S2=true;}}if(S2){return{hasDraftIndicator:true,semantickeys:T2};}else{return{};}}var x2=function(i,n,o){var S2;var T2=o.getAnnotationEntityType(i),U2=[],V2={},W2=g(o.getEntitySet()),X2=o.getManifestControlConfiguration(n),Y2=(X2===null||X2===void 0?void 0:(S2=X2.tableSettings)===null||S2===void 0?void 0:S2.type)||"ResponsiveTable";var Z2=o.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[o.getEntityType()])[0];if(i){i.forEach(function(a3){var b3,c3,d3,e3,f3,g3,h3,i3,j3;if(!k2(a3)){return;}var k3=g1(a3)&&(b3=a3.Value)!==null&&b3!==void 0&&(c3=b3.$target)!==null&&c3!==void 0&&c3.fullyQualifiedName?j1(o,a3):undefined;var l3=r2(a3);var m3=l1(a3,o,Y2);var n3=Object.keys(m3.properties);var o3=Object.keys(m3.additionalProperties);var p3=s2(l3,true,false);var q3=p3!=l3;var r3=n2(a3,q3);var s3=p2(a3);var t3=p3.indexOf("@com.sap.vocabularies.UI.v1.FieldGroup")>-1;var u3=t3&&(a3===null||a3===void 0?void 0:(d3=a3.Target)===null||d3===void 0?void 0:(e3=d3.$target)===null||e3===void 0?void 0:e3.Data.length)>1?q2(s3,n,o):false;var v3=k1(a3);var w3=v3==="Edm.Date"?"YYYY-MM-DD":undefined;var x3=G1(G1({},v2()),w2(s3,Z2));var y3;if(a3.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((f3=a3.Target)===null||f3===void 0?void 0:(g3=f3.$target)===null||g3===void 0?void 0:g3.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){y3=m2(a3,x3);}var z3={template:m3.exportSettingsTemplate,wrap:m3.exportSettingsWrapping,type:v3?N2(v3,n3.length>1):undefined,inputFormat:w3,delimiter:v3==="Edm.Int64"?true:false,trueValue:v3==="Edm.Boolean"?"Yes":undefined,falseValue:v3==="Edm.Boolean"?"No":undefined};var A3=v3&&h(a3,v3);var B3=A3?{className:v3,oFormatOptions:G1(G1({},x3),A3.formatOptions),oConstraints:A3.constraints}:undefined;var C3={};if(m3.visualSettingsToBeExcluded){C3={widthCalculation:{excludeProperties:"Property::"+m3.visualSettingsToBeExcluded}};}else if(!v3||!B3){C3.widthCalculation=null;}U2.push({key:J.generateKeyFromDataField(a3),type:O1.Annotation,label:r3,groupLabel:q3?n2(a3):null,group:q3?p3:null,FieldGroupHiddenExpressions:y3,annotationPath:o.getEntitySetBasedAnnotationPath(a3.fullyQualifiedName),semanticObjectPath:k3,availability:i1(a3)?z1.Hidden:z1.Default,name:s3,showDataFieldsLabel:u3,relativePath:l3,sortable:t2(a3,l3,W2),propertyInfos:n3.length>0?n3:undefined,additionalPropertyInfos:o3.length>0?o3:undefined,exportSettings:z3,width:((h3=a3.annotations)===null||h3===void 0?void 0:(i3=h3.HTML5)===null||i3===void 0?void 0:(j3=i3.CssDefaults)===null||j3===void 0?void 0:j3.width)||undefined,isNavigable:true,formatOptions:x3,exportContactProperty:m3.exportSettingsContactProperty,caseSensitive:u2(o),typeConfig:B3,visualSettings:C3});n3.forEach(function(s3){V2[s3]=m3.properties[s3];});o3.forEach(function(s3){V2[s3]=m3.additionalProperties[s3];});});}var $2=i2(V2,T2,U2,W2,o,Y2);$2=$2.concat(U2);var _2=o2(V2,$2,W2,o,T2);$2=$2.concat(_2);return $2;};var y2=function(i,n,o,S2){var T2;if(i){T2=i.map(function(U2){var V2=n.find(function(V2){return V2.relativePath===U2&&V2.propertyInfos===undefined;});if(V2){return V2.name;}else{var W2=o2(H1({},U2,S2.resolvePath(U2)),n,[],o,S2);n.push(W2[0]);return W2[0].name;}});}return T2;};var z2=function(i){return i.map(function(n){return"{".concat(i.indexOf(n),"}");}).join("\n");};var A2=function(i,n,o){if(i===undefined){return o?undefined:n;}return i;};var B2=function(i,n,o,S2,T2){var U2={};var V2=function(W2){var X2;var Y2=i[W2];var Z2=n.some(function(_2){return _2.key===W2;});J.validateKey(W2);var $2=y2(Y2.properties,n,o,S2);U2[W2]={key:W2,id:"CustomColumn::"+W2,name:"CustomColumn::"+W2,header:Y2.header,width:Y2.width||undefined,horizontalAlign:A2(Y2===null||Y2===void 0?void 0:Y2.horizontalAlign,x1.Begin,Z2),type:Y2.type==="Slot"?O1.Slot:O1.Default,availability:A2(Y2===null||Y2===void 0?void 0:Y2.availability,z1.Default,Z2),template:Y2.template||"undefined",position:{anchor:(X2=Y2.position)===null||X2===void 0?void 0:X2.anchor,placement:Y2.position===undefined?n1.After:Y2.position.placement},isNavigable:Z2?undefined:q1(Y2,T2,true),settings:Y2.settings,sortable:false,propertyInfos:$2,formatOptions:G1(G1({},v2()),Y2.formatOptions),exportSettings:{template:$2?z2($2):undefined,fieldLabel:$2?Y2.header:undefined,wrap:$2&&$2.length>1?true:false},caseSensitive:u2(o)};};for(var W2 in i){V2(W2);}return U2;};function C2(i,n,o){var S2;var T2=n.getManifestWrapper();var U2=n.getManifestControlConfiguration(i);var V2=T2.getVariantManagement();var W2=[];var X2=o.type==="AnalyticalTable";if((U2===null||U2===void 0?void 0:(S2=U2.tableSettings)===null||S2===void 0?void 0:S2.personalization)!==undefined){var Y2=U2.tableSettings.personalization;if(Y2===true){return X2?"Sort,Column,Filter,Group,Aggregate":"Sort,Column,Filter";}else if(typeof Y2==="object"){if(Y2.sort){W2.push("Sort");}if(Y2.column){W2.push("Column");}if(Y2.filter){W2.push("Filter");}if(Y2.group&&X2){W2.push("Group");}if(Y2.aggregate&&X2){W2.push("Aggregate");}return W2.length>0?W2.join(","):undefined;}}else{W2.push("Sort");W2.push("Column");if(V2===u1.Control){W2.push("Filter");}if(X2){W2.push("Group");W2.push("Aggregate");}return W2.join(",");}return undefined;}_.getP13nMode=C2;function D2(i,n,o,S2){var T2,U2,V2,W2,X2,Y2,Z2,$2,_2,a3,b3,c3,d3,e3,f3;var g3=i.getEntitySet();var h3=i.getDataModelObjectPath();var i3=h3.navigationProperties.map(function(r3){return r3.name;});var j3=g3?e1((g3===null||g3===void 0?void 0:(T2=g3.annotations.UI)===null||T2===void 0?void 0:T2.DeleteHidden)||false,i3,undefined,function(r3){return N(r3,i,i3);}):b1(false);var k3=c1(j3);var l3,m3;if(i.getTemplateType()===v1.ObjectPage){l3=F(i.getDataModelObjectPath(),n);m3=l3?c1(l3):l3;}var n3=(U2=i.getDataModelObjectPath().startingEntitySet)!==null&&U2!==void 0&&(V2=U2.annotations)!==null&&V2!==void 0&&(W2=V2.Session)!==null&&W2!==void 0&&W2.StickySessionSupported?true:false;var o3=g3&&(X2=g3.annotations)!==null&&X2!==void 0&&(Y2=X2.Common)!==null&&Y2!==void 0&&Y2.DraftRoot?true:false;var p3=g3&&(Z2=g3.annotations)!==null&&Z2!==void 0&&($2=Z2.Common)!==null&&$2!==void 0&&$2.DraftNode?true:false;var q3=(_2=i.getDataModelObjectPath().targetObject)!==null&&_2!==void 0&&_2.containsTarget&&((a3=i.getDataModelObjectPath().startingEntitySet)!==null&&a3!==void 0&&(b3=a3.annotations)!==null&&b3!==void 0&&(c3=b3.Common)!==null&&c3!==void 0&&c3.DraftRoot||(d3=i.getDataModelObjectPath().startingEntitySet)!==null&&d3!==void 0&&(e3=d3.annotations)!==null&&e3!==void 0&&(f3=e3.Common)!==null&&f3!==void 0&&f3.DraftNode)?true:false;if(o3||p3||n3||!i.getEntitySet()&&q3){if(m3==="false"){return b1(false);}else if(m3&&k3!=="true"){if(k3&&k3!=="false"){return f1(a1(d1("/editMode","ui"),"Editable"),W(j3));}else{return a1(d1("/editMode","ui"),"Editable");}}else if(k3==="true"||!o||S2&&i.getManifestWrapper().hasMultipleVisualizations(S2)||i.getTemplateType()===v1.AnalyticalListPage){return b1(false);}else if(i.getTemplateType()!==v1.ListReport){if(k3&&k3==="false"){return f1(a1(d1("/editMode","ui"),"Editable"),W(j3));}else{return a1(d1("/editMode","ui"),"Editable");}}else if(Y(j3)){return W(j3);}else{return b1(true);}}else{return b1(false);}}_.getDeleteVisible=D2;function E2(i,n){if(n){var o=x(i.getDataModelObjectPath(),undefined,true);if(o!==null&&o!==void 0&&o.currentEntityRestriction){return false;}var S2=c1(o);return o?"{= %{internal>numberOfSelectedContexts} >= 2 && "+c1(o,S2)+"}":false;}return false;}_.getEnablementMassEdit=E2;function F2(i,n,o,S2){var T2,U2;var V2=i.getEntitySet(),W2=V2&&(V2===null||V2===void 0?void 0:(T2=V2.annotations.UI)===null||T2===void 0?void 0:(U2=T2.UpdateHidden)===null||U2===void 0?void 0:U2.valueOf()),X2=(n===null||n===void 0?void 0:n.enableMassEdit)||false,Y2=n===null||n===void 0?void 0:n.selectionLimit;var Z2=true;if(S2&&S2==="Single"||Y2&&Y2<2){Z2=false;}else if(S2&&(S2==="Auto"||S2==="None")){Z2=true;}if((o===null||o===void 0?void 0:o.isUpdatable)!==false&&Z2&&X2){if(W2&&typeof W2==="boolean"){return!W2&&i.getTemplateType()===v1.ObjectPage?c1(L.IsEditable):false;}else if(W2&&W2!==null&&W2!==void 0&&W2.path){return i.getTemplateType()===v1.ObjectPage?c1(f1(a1(L.IsEditable,true),a1(e1(W2),false))):false;}return i.getTemplateType()===v1.ObjectPage?c1(L.IsEditable):false;}return false;}_.getVisibilityMassEdit=F2;function G2(i,n,o,S2){var T2,U2,V2,W2,X2,Y2,Z2;var $2=i.getEntitySet();var _2=i.getDataModelObjectPath();var a3=_2.navigationProperties.map(function(e3){return e3.name;});var b3=$2?e1(($2===null||$2===void 0?void 0:(T2=$2.annotations.UI)===null||T2===void 0?void 0:T2.CreateHidden)||false,a3,undefined,function(e3){return N(e3,i,a3);}):b1(false);var c3=$2===null||$2===void 0?void 0:(U2=$2.annotations.Common)===null||U2===void 0?void 0:(V2=U2.DraftRoot)===null||V2===void 0?void 0:(W2=V2.NewAction)===null||W2===void 0?void 0:W2.toString();var d3=c3?e1(i===null||i===void 0?void 0:(X2=i.getEntityType().actions[c3].annotations)===null||X2===void 0?void 0:(Y2=X2.Core)===null||Y2===void 0?void 0:(Z2=Y2.OperationAvailable)===null||Z2===void 0?void 0:Z2.valueOf(),[],true,function(e3){return N(e3,i,[]);}):undefined;return Z(V(V(a1(d3,false),f1(X(o),a1(o,false),a1(d3,undefined))),X(b3)&&a1(b3,true),V(S2?i.getManifestWrapper().hasMultipleVisualizations(S2):false,i.getTemplateType()===v1.AnalyticalListPage)),false,Z(n==="External",true,Z(i.getTemplateType()===v1.ListReport,Z(Y(b3),W(b3),true),f1(W(b3),L.IsEditable))));}_.getCreateVisible=G2;function H2(i,n,o,S2,T2){return Z(S2&&a1(G2(i,n.mode,o,T2),true),i.getTemplateType()===v1.ObjectPage&&o,false);}_.getPasteEnabled=H2;function I2(i,n,o){var S2=g(i.getEntitySet());var T2;if(n!==null&&n!==void 0&&n.SortOrder){var U2=[];var V2={sorters:U2};n.SortOrder.forEach(function(W2){var X2;var Y2=W2.Property;if(Y2&&S2.indexOf((X2=Y2.$target)===null||X2===void 0?void 0:X2.name)===-1){var Z2=J2([Y2],o)[0];if(Z2){V2.sorters.push({name:Z2,descending:!!W2.Descending});}}});T2=V2.sorters.length?JSON.stringify(V2):undefined;}return T2;}function J2(i,n){var o=[];i.forEach(function(S2){var T2;if(S2!==null&&S2!==void 0&&(T2=S2.$target)!==null&&T2!==void 0&&T2.name){var U2=n.find(function(V2){var W2;var X2=V2;return!X2.propertyInfos&&X2.relativePath===(S2===null||S2===void 0?void 0:(W2=S2.$target)===null||W2===void 0?void 0:W2.name);});if(U2){o.push(U2.name);}}});return o;}function K2(i,n){var o;if(i!==null&&i!==void 0&&i.GroupBy){var S2=i.GroupBy;var T2=J2(S2,n).map(function(U2){return{name:U2};});o=T2.length?JSON.stringify({groupLevels:T2}):undefined;}return o;}function L2(i,n){var o;if(i!==null&&i!==void 0&&i.Total){var S2=i.Total;var T2={};J2(S2,n).forEach(function(U2){T2[U2]={};});o=JSON.stringify(T2);}return o;}function M2(i,n,o,S2,T2,U2,V2){var W2,X2,Y2;var Z2=P2(n),$2=Z2.navigationPropertyPath;var _2=(W2=o.getDataModelObjectPath().targetEntityType.annotations)===null||W2===void 0?void 0:(X2=W2.UI)===null||X2===void 0?void 0:(Y2=X2.HeaderInfo)===null||Y2===void 0?void 0:Y2.TypeNamePlural;var a3=o.getDataModelObjectPath().targetEntitySet;var b3=o.getManifestWrapper();var c3=$2.length===0,d3=C2(n,o,S2),id=$2?s1(n):s1(o.getContextPath(),"LineItem");var f3=c2(o);var g3=D2(o,$2,f3.isDeletable,V2);var h3=d2(i,n,o,c3,f3,g3);var i3=$2?10:30;if(U2!==null&&U2!==void 0&&U2.MaxItems){i3=U2.MaxItems.valueOf();}var j3=T1(o,$2);var k3=b3.getNavigationConfiguration(j3);var l3=g2(i,S2,o,k3);var m3,n3;if(o.getTemplateType()===v1.ObjectPage){var o3;m3=F(o.getDataModelObjectPath(),undefined,true);if((o3=m3)!==null&&o3!==void 0&&o3.currentEntityRestriction){n3=undefined;}else{n3=m3?c1(m3,true):m3;}}var p3=o.getDataModelObjectPath();var q3=y(p3);var r3=b3.getVariantManagement();var s3=F2(o,S2,f3,h3);var t3=z(o.getDataModelObjectPath());return{id:id,entityName:a3?a3.name:"",collection:G(o.getDataModelObjectPath()),navigationPath:$2,row:h2(i,n,o,k3,j3),p13nMode:d3,show:{"delete":c1(g3),create:c1(G2(o,l3===null||l3===void 0?void 0:l3.mode,q3)),paste:c1(H2(o,l3,q3,S2.enablePaste,V2)),massEdit:{visible:s3,enabled:E2(o,s3)}},displayMode:O2(o,V2),create:l3,selectionMode:h3,autoBindOnInit:o.getTemplateType()!==v1.ListReport&&o.getTemplateType()!==v1.AnalyticalListPage&&!(V2&&o.getManifestWrapper().hasMultipleVisualizations(V2)),variantManagement:r3==="Control"&&!d3?u1.None:r3,threshold:i3,sortConditions:I2(o,U2,T2),parentEntityDeleteEnabled:n3,title:_2,searchable:S2.type!=="AnalyticalTable"&&!(X(t3)&&t3.value===false)};}_.getTableAnnotationConfiguration=M2;function N2(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o="String";if(n){return o;}else{switch(i){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":o="Number";break;case"Edm.DateOfTime":case"Edm.Date":o="Date";break;case"Edm.DateTimeOffset":o="DateTime";break;case"Edm.TimeOfDay":o="Time";break;case"Edm.Boolean":o="Boolean";break;default:o="String";}}return o;}function O2(i,n){var o=i.getTemplateType();if(o===v1.ListReport||o===v1.AnalyticalListPage||n&&i.getManifestWrapper().hasMultipleVisualizations(n)){return true;}return false;}function P2(i){var n=i.split("@"),o=B1(n,2),S2=o[0],T2=o[1];if(S2.lastIndexOf("/")===S2.length-1){S2=S2.substr(0,S2.length-1);}return{navigationPropertyPath:S2,annotationPath:T2};}_.splitPath=P2;function Q2(i,n){var o=n.getEntityTypeAnnotation(i);var S2=o.annotation;if(S2){var T2,U2;var V2=[];(T2=S2.SelectOptions)===null||T2===void 0?void 0:T2.forEach(function(W2){var X2=W2.PropertyName;var Y2=X2.value;if(V2.indexOf(Y2)===-1){V2.push(Y2);}});return{text:S2===null||S2===void 0?void 0:(U2=S2.Text)===null||U2===void 0?void 0:U2.toString(),propertyNames:V2};}return undefined;}_.getSelectionVariantConfiguration=Q2;function R2(i,n,o){var S2,T2;var U2=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var V2=o.getManifestControlConfiguration(n);var W2=V2&&V2.tableSettings||{};var X2;var Y2=[];var Z2=true;var $2=y1.NewPage;var _2;var a3=true;var b3=false;var c3;var d3=false;var e3=false;var f3="ResponsiveTable";var g3=false;var h3=200;var i3;var j3=true;var k3=o.getTemplateType()==="ObjectPage";var l3=U2&&o.getManifestWrapper().isCondensedLayoutCompliant();var m3=o.getEntityType();var n3=new k(m3,o);if(i){var o3,p3,q3,r3,s3,t3,u3,v3;var w3=o.getAnnotationEntityType(i);W2===null||W2===void 0?void 0:(o3=W2.quickVariantSelection)===null||o3===void 0?void 0:(p3=o3.paths)===null||p3===void 0?void 0:p3.forEach(function(x3){var y3;X2=w3.resolvePath("@"+x3.annotationPath);if(X2){Y2.push({annotationPath:x3.annotationPath});}_2={quickFilters:{enabled:o.getTemplateType()===v1.ListReport?"{= ${pageInternal>hasPendingFilters} !== true}":true,showCounts:W2===null||W2===void 0?void 0:(y3=W2.quickVariantSelection)===null||y3===void 0?void 0:y3.showCounts,paths:Y2}};});$2=((q3=W2.creationMode)===null||q3===void 0?void 0:q3.name)||$2;a3=((r3=W2.creationMode)===null||r3===void 0?void 0:r3.createAtEnd)!==undefined?(s3=W2.creationMode)===null||s3===void 0?void 0:s3.createAtEnd:true;c3=(t3=W2.creationMode)===null||t3===void 0?void 0:t3.customValidationFunction;b3=!c3?!!((u3=W2.creationMode)!==null&&u3!==void 0&&u3.disableAddRowButtonForEmptyData):false;d3=W2.condensedTableLayout!==undefined?W2.condensedTableLayout:false;e3=!!((v3=W2.quickVariantSelection)!==null&&v3!==void 0&&v3.hideTableTitle);f3=(W2===null||W2===void 0?void 0:W2.type)||"ResponsiveTable";if(o.getTemplateType()!=="ObjectPage"){if((W2===null||W2===void 0?void 0:W2.type)==="AnalyticalTable"&&!n3.isAnalyticsSupported()){f3="GridTable";}if(!(W2!==null&&W2!==void 0&&W2.type)){if(o.getManifestWrapper().isDesktop()&&n3.isAnalyticsSupported()){f3="AnalyticalTable";}else{f3="ResponsiveTable";}}}g3=W2.enableFullScreen||false;if(g3===true&&o.getTemplateType()===v1.ListReport){g3=false;o.getDiagnostics().addIssue(v.Manifest,u.Low,s.FULLSCREENMODE_NOT_ON_LISTREPORT);}h3=W2.selectAll===true||W2.selectionLimit===0?0:W2.selectionLimit||200;if(f3==="ResponsiveTable"){if(o.getTemplateType()===v1.ListReport||o.getTemplateType()===v1.AnalyticalListPage){i3=!!W2.selectAll?"Default":"ClearAll";}if(o.getTemplateType()===v1.ObjectPage){if(o.getManifestWrapper().useIconTabBar()){i3=!!W2.selectAll?"Default":"ClearAll";}else{i3=W2.selectAll===false?"ClearAll":"Default";}}}k3=o.getTemplateType()==="ObjectPage"&&W2.enablePaste!==false;Z2=W2.enableExport!==undefined?W2.enableExport:o.getTemplateType()!=="ObjectPage"||k3;}return{filters:_2,type:f3,enableFullScreen:g3,headerVisible:!(X2&&e3),enableExport:Z2,creationMode:$2,createAtEnd:a3,disableAddRowButtonForEmptyData:b3,customValidationFunction:c3,useCondensedTableLayout:d3&&l3,selectionLimit:h3,multiSelectMode:i3,enablePaste:k3,showRowCount:!(W2!==null&&W2!==void 0&&(S2=W2.quickVariantSelection)!==null&&S2!==void 0&&S2.showCounts)&&!((T2=o.getManifestWrapper().getViewConfiguration())!==null&&T2!==void 0&&T2.showCounts),enableMassEdit:W2===null||W2===void 0?void 0:W2.enableMassEdit,enableAutoColumnWidth:j3};}_.getTableManifestConfiguration=R2;return _;},false);
