// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/ui/core/Icon","sap/ushell/resources","sap/ui/core/HTML","sap/ushell/library","./TileStateRenderer"],function(C,I,r,H){"use strict";var T=C.extend("sap.ushell.ui.launchpad.TileState",{metadata:{library:"sap.ushell",properties:{state:{type:"string",group:"Misc",defaultValue:"Loaded"}},events:{press:{}}}});T.prototype.init=function(){this._rb=r.i18n;this._sFailedToLoad=this._rb.getText("cannotLoadTile");this._oWarningIcon=new I(this.getId()+"-warn-icon",{src:"sap-icon://notification",size:"1.37rem"}).addStyleClass("sapSuiteGTFtrFldIcnMrk");this.attachPress(this._onPress);};T.prototype.onclick=function(){this.firePress();};T.prototype._onPress=function(e){if(this.getState()!=="Failed"){return;}if(!this.FailedTileDialog){sap.ui.require(["sap/ushell/ui/launchpad/FailedTileDialog"],function(F){this.FailedTileDialog=new F();this._onPress(e);}.bind(this));}else{this.FailedTileDialog.openFor(this);}};T.prototype._getBusyContainer=function(){if(!this._oBusyContainer){this._oBusyContainer=new H({content:"<div class='sapUshellTileStateLoading'><div>"});this._oBusyContainer.setBusyIndicatorDelay(0);this._oBusyContainer.setBusy(true);}return this._oBusyContainer;};T.prototype.exit=function(){this._oWarningIcon.destroy();if(this._oBusyContainer){this._oBusyContainer.destroy();}};T.prototype.setState=function(s,i){this.setProperty("state",s,i);return this;};return T;});
